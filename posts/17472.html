<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="题意：模拟患者做手术。 其条件为：医院有Nop个手术室、准备手术室要Mop分钟，另有Nre个恢复用的床、准备每张床要Mre分钟，早上Ts点整医院开张，从手术室手术完毕转移到回复床要Mtr分钟。现在医院早上开张了，给你一张患者的表，有Npa个患者等着做手术，每个患者的的信息有：名字、做手术需要的时间、恢复需要的时间。只要有空的手术室位就安排患者进去，优先安排门牌号低的。若多人同时竞争，输入列表靠前的">
<meta property="og:type" content="article">
<meta property="og:title" content="算法竞赛入门经典(第2版) 5-16UVa212 - Use of Hospital Facilities">
<meta property="og:url" content="https://xienaoban.github.io/posts/17472.html">
<meta property="og:site_name" content="XieNaoban&#39;s Blog">
<meta property="og:description" content="题意：模拟患者做手术。 其条件为：医院有Nop个手术室、准备手术室要Mop分钟，另有Nre个恢复用的床、准备每张床要Mre分钟，早上Ts点整医院开张，从手术室手术完毕转移到回复床要Mtr分钟。现在医院早上开张了，给你一张患者的表，有Npa个患者等着做手术，每个患者的的信息有：名字、做手术需要的时间、恢复需要的时间。只要有空的手术室位就安排患者进去，优先安排门牌号低的。若多人同时竞争，输入列表靠前的">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-04-08T13:35:57.976Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="算法竞赛入门经典(第2版) 5-16UVa212 - Use of Hospital Facilities">
<meta name="twitter:description" content="题意：模拟患者做手术。 其条件为：医院有Nop个手术室、准备手术室要Mop分钟，另有Nre个恢复用的床、准备每张床要Mre分钟，早上Ts点整医院开张，从手术室手术完毕转移到回复床要Mtr分钟。现在医院早上开张了，给你一张患者的表，有Npa个患者等着做手术，每个患者的的信息有：名字、做手术需要的时间、恢复需要的时间。只要有空的手术室位就安排患者进去，优先安排门牌号低的。若多人同时竞争，输入列表靠前的">





  
  
  <link rel="canonical" href="https://xienaoban.github.io/posts/17472">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>算法竞赛入门经典(第2版) 5-16UVa212 - Use of Hospital Facilities | XieNaoban's Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">XieNaoban's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/XieNaoban" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://xienaoban.github.io/posts/17472.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XieNaoban">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XieNaoban's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">算法竞赛入门经典(第2版) 5-16UVa212 - Use of Hospital Facilities

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-10-22 21:23:07" itemprop="dateCreated datePublished" datetime="2016-10-22T21:23:07+08:00">2016-10-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-08 21:35:57" itemprop="dateModified" datetime="2019-04-08T21:35:57+08:00">2019-04-08</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>题意：模拟患者做手术。 其条件为：医院有Nop个手术室、准备手术室要Mop分钟，另有Nre个恢复用的床、准备每张床要Mre分钟，早上Ts点整医院开张，从手术室手术完毕转移到回复床要Mtr分钟。现在医院早上开张了，给你一张患者的表，有Npa个患者等着做手术，每个患者的的信息有：名字、做手术需要的时间、恢复需要的时间。只要有空的手术室位就安排患者进去，优先安排门牌号低的。若多人同时竞争，输入列表靠前的先进。进入恢复室的优先顺序是，也是优先安排床号靠前的床，同时做完手术的人按照<strong>手术室的门牌号小的</strong> （很奇葩的设定）优先。</p>
<hr>
<p>代码：（Accepted，0.000s） <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//UVa212 - Use of Hospital Facilities</span></span><br><span class="line"><span class="comment">//Accepted 0.000s</span></span><br><span class="line"><span class="comment">//#define _XIENAOBAN_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ipt cin</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> opt cout<span class="comment">//just for convenience and appearance, because size("cout"+" ")=5, which is longer than a tab(which is 4)</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> time_convert(t) setw(2) &lt;&lt; (t / 60) &lt;&lt; <span class="meta-string">':'</span> &lt;&lt; setfill(<span class="meta-string">'0'</span>) &lt;&lt; setw(2) &lt;&lt; (t % 60) &lt;&lt; setfill(<span class="meta-string">' '</span>)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ROOM</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> id, at;</span><br><span class="line">	ROOM() &#123;&#125;</span><br><span class="line">	ROOM(<span class="keyword">int</span> a, <span class="keyword">int</span> b) :id(a), at(b) &#123;&#125;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> ROOM&amp; that) <span class="keyword">const</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (at != that.at) <span class="keyword">return</span> at &gt; that.at;</span><br><span class="line">		<span class="keyword">return</span> id &gt; that.id;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PATIENT</span> &#123;</span></span><br><span class="line">	<span class="built_in">string</span> name;</span><br><span class="line">	<span class="keyword">int</span> id, room, bed, top, tre, t1, t2, t3, t4;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Nop, Nre, Ts, Te, Mtr, Mop, Mre, Npa;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> _XIENAOBAN_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> gets(T) gets_s(T, 66666)</span></span><br><span class="line">	freopen(<span class="string">"in.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">	freopen(<span class="string">"out.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">	ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">	<span class="keyword">while</span> (ipt &gt;&gt; Nop) &#123;</span><br><span class="line">		ipt &gt;&gt; Nre &gt;&gt; Ts &gt;&gt; Mtr &gt;&gt; Mop &gt;&gt; Mre &gt;&gt; Npa;</span><br><span class="line">		Te = <span class="number">0</span>, Ts *= <span class="number">60</span>;</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; Top(Nop + <span class="number">1</span>, <span class="number">0</span>), Tre(Nre + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;PATIENT&gt; Info(Npa + <span class="number">1</span>);</span><br><span class="line">		<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; Bre(Nre + <span class="number">1</span>, Ts);</span><br><span class="line">		priority_queue&lt;ROOM&gt; Rop;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i(<span class="number">1</span>);i &lt;= Nop;++i) Rop.push(ROOM(i, Ts));</span><br><span class="line"></span><br><span class="line">		<span class="comment">//For all the operating rooms</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> N(<span class="number">1</span>);N &lt;= Npa;++N) &#123;</span><br><span class="line">			<span class="function"><span class="keyword">auto</span>&amp; <span class="title">now</span><span class="params">(Info[N])</span></span>;</span><br><span class="line">			now.id = N;</span><br><span class="line">			<span class="function">ROOM <span class="title">op</span><span class="params">(Rop.top())</span></span>;</span><br><span class="line">			Rop.pop();</span><br><span class="line">			ipt &gt;&gt; now.name &gt;&gt; now.top &gt;&gt; now.tre;</span><br><span class="line">			now.t1 = op.at;</span><br><span class="line">			now.t2 = now.t1 + now.top;</span><br><span class="line">			now.t3 = now.t2 + Mtr;</span><br><span class="line">			now.t4 = now.t3 + now.tre;</span><br><span class="line">			now.room = op.id;</span><br><span class="line">			op.at = now.t2 + Mop;</span><br><span class="line">			Top[op.id] += now.top;</span><br><span class="line">			Rop.push(op);</span><br><span class="line">		&#125;</span><br><span class="line">		sort(Info.begin() + <span class="number">1</span>, Info.end(), [](PATIENT&amp; a, PATIENT&amp; b)-&gt;<span class="keyword">bool</span></span><br><span class="line">		&#123;<span class="keyword">if</span> (a.t2 != b.t2) <span class="keyword">return</span> a.t2 &lt; b.t2;<span class="keyword">return</span> a.room &lt; b.room;&#125;);<span class="comment">//Sort by t2</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//For all the recovery rooms</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> N(<span class="number">1</span>);N &lt;= Npa;++N) &#123;</span><br><span class="line">			<span class="function"><span class="keyword">auto</span>&amp; <span class="title">now</span><span class="params">(Info[N])</span></span>;</span><br><span class="line">			<span class="keyword">int</span> re;</span><br><span class="line">			<span class="keyword">for</span> (re = <span class="number">1</span>;re &lt;= Nre;++re)</span><br><span class="line">				<span class="keyword">if</span> (Bre[re] &lt;= now.t2) <span class="keyword">break</span>;</span><br><span class="line">			now.bed = re;</span><br><span class="line">			Bre[re] = now.t4 + Mre;</span><br><span class="line">			Tre[re] += now.tre;</span><br><span class="line">			<span class="keyword">if</span> (Te &lt; now.t4) Te = now.t4;</span><br><span class="line">		&#125;</span><br><span class="line">		sort(Info.begin() + <span class="number">1</span>, Info.end(), [](PATIENT&amp; a, PATIENT&amp; b) &#123;<span class="keyword">return</span> a.id &lt; b.id;&#125;);<span class="comment">//Sort by id</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//Output</span></span><br><span class="line">		opt &lt;&lt; <span class="string">" Patient          Operating Room          Recovery Room\n"</span></span><br><span class="line">			&lt;&lt; <span class="string">" #  Name     Room#  Begin   End      Bed#  Begin    End\n"</span></span><br><span class="line">			&lt;&lt; <span class="string">" ------------------------------------------------------\n"</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> N(<span class="number">1</span>);N &lt;= Npa;++N) &#123;</span><br><span class="line">			<span class="function"><span class="keyword">auto</span>&amp; <span class="title">now</span><span class="params">(Info[N])</span></span>;</span><br><span class="line">			opt &lt;&lt; setw(<span class="number">2</span>) &lt;&lt; N &lt;&lt; <span class="string">"  "</span> &lt;&lt; left &lt;&lt; setw(<span class="number">10</span>) &lt;&lt; now.name &lt;&lt; right &lt;&lt; setw(<span class="number">2</span>)</span><br><span class="line">				&lt;&lt; now.room &lt;&lt; <span class="string">"   "</span> &lt;&lt; time_convert(now.t1) &lt;&lt; <span class="string">"   "</span> &lt;&lt; time_convert(now.t2) &lt;&lt; <span class="string">"     "</span> &lt;&lt; setw(<span class="number">2</span>)</span><br><span class="line">				&lt;&lt; now.bed &lt;&lt; <span class="string">"   "</span> &lt;&lt; time_convert(now.t3) &lt;&lt; <span class="string">"   "</span> &lt;&lt; time_convert(now.t4) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		opt &lt;&lt; <span class="string">'\n'</span></span><br><span class="line">			&lt;&lt; <span class="string">"Facility Utilization\n"</span></span><br><span class="line">			&lt;&lt; <span class="string">"Type  # Minutes  % Used\n"</span></span><br><span class="line">			&lt;&lt; <span class="string">"-------------------------\n"</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> N(<span class="number">1</span>);N &lt;= Nop;++N) &#123;</span><br><span class="line">			opt &lt;&lt; <span class="string">"Room "</span> &lt;&lt; setw(<span class="number">2</span>) &lt;&lt; N &lt;&lt; setw(<span class="number">8</span>) &lt;&lt; Top[N]</span><br><span class="line">				&lt;&lt; setw(<span class="number">8</span>) &lt;&lt; fixed &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; (Top[N] * <span class="number">100.0</span> / (<span class="keyword">float</span>)(Te - Ts)) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> N(<span class="number">1</span>);N &lt;= Nre;++N) &#123;</span><br><span class="line">			opt &lt;&lt; <span class="string">"Bed  "</span> &lt;&lt; setw(<span class="number">2</span>) &lt;&lt; N &lt;&lt; setw(<span class="number">8</span>) &lt;&lt; Tre[N]</span><br><span class="line">				&lt;&lt; setw(<span class="number">8</span>) &lt;&lt; fixed &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; (Tre[N] * <span class="number">100.0</span> / (<span class="keyword">float</span>)(Te - Ts)) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>分析：终于是本章节的最后一题啦！书上说很难，感觉其实不难啊，就是麻烦了点，写了好久。就是死在了一句话上“If two patients emerge from surgery at the same time, the patient with the lower number will be the first assigned to a recovery room bed.”（就是上面题意里加黑的那句）我还以为指的是患者编号，即患者输入顺序。结果WA。。。udebug上没有数据，不知道问题在哪里。自己做了一套数据发现了错误，百度查了别人的排序逻辑，才发现原来那个the patient with the lower number指的是在门牌号小的手术室做手术的患者。那个number竟然指的门牌号！所以只把sort函数的lambda比较函数改了一小下就AC了。 手术室的模拟使用了优先队列，空一个房间就来一个人，但是恢复床位不能用优先队列。因为恢复床位进入可使用状态最早的不一定是床号最小的，即当有人要转移到床位时可使用床位可能不止一个，和他做完手术的时间有关系。</p>
<p>附：测试数据 <code>10 30 01 16 15 1 30 Jones 90 140 Smith 10 200 Thompson 60 75 Albright 40 82 Poucher 33 209 Comer 10 201 Perry 3 188 Page 111 120 Roggio 69 100 Brigham 42 79 Nute 22 71 Young 38 50 Bush 26 40 Cates 120 32 Johnson 10 2 Jones 28 140 Smith 120 200 Thompson 23 75 Albright 19 82 Poucher 133 209 Comer 74 101 Perry 93 188 Page 111 223 Roggio 69 122 Brigham 42 79 Nute 22 71 Young 38 140 Bush 26 121 Cates 120 248 Johnson 10 50</code></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    
      <div>
        




  



<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>XieNaoban</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    
    <a href="https://xienaoban.github.io/posts/17472.html" title="算法竞赛入门经典(第2版) 5-16UVa212 - Use of Hospital Facilities">https://xienaoban.github.io/posts/17472.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-ND</a> 许可协议。转载请注明出处！</li>
</ul>

      </div>
    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/posts/46172.html" rel="next" title="算法竞赛入门经典(第2版) 5-15UVa12333 - Revenge of Fibonacci">
                <i class="fa fa-chevron-left"></i> 算法竞赛入门经典(第2版) 5-15UVa12333 - Revenge of Fibonacci
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/posts/51530.html" rel="prev" title="算法竞赛入门经典(第2版) 6-1UVa673 6-2UVa712 6-3UVa536">
                算法竞赛入门经典(第2版) 6-1UVa673 6-2UVa712 6-3UVa536 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">XieNaoban</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">105</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">2</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/XieNaoban" title="GitHub &rarr; https://github.com/XieNaoban" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:xjf19970000@live.com" title="E-Mail &rarr; mailto:xjf19970000@live.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-nd.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XieNaoban</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.0"></script>




  
  <script src="/js/scrollspy.js?v=7.1.0"></script>
<script src="/js/post-details.js?v=7.1.0"></script>



  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
